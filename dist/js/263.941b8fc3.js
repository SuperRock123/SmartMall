"use strict";(self["webpackChunksmart_mall"]=self["webpackChunksmart_mall"]||[]).push([[263],{8263:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reviewPage"},[e("van-nav-bar",{attrs:{title:"评论详情","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-dropdown-menu",[e("van-dropdown-item",{attrs:{options:t.option1},on:{change:t.handleChange},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),e("div",{staticClass:"comment"},t._l(t.sortedComments,(function(a){return e("div",{key:a.comment_id,staticClass:"review"},[null==a.user.avatar_url?e("van-icon",{attrs:{name:"contact-o"}}):e("img",{attrs:{src:a.user.avatar_url}}),e("span",[t._v(t._s(a.user.nick_name))]),e("van-rate",{attrs:{value:a.score/2,size:16,color:"#ffd21e","void-icon":"star","void-color":"#eee",readonly:""}}),e("div",{staticClass:"content"},[t._v(" "+t._s(a.content)+" ")]),e("div",{staticClass:"time"},[t._v(t._s(a.create_time))])],1)})),0)],1)},s=[],o=a(8950),r={name:"reviewPage",data(){return{comments:{},commentsOverview:{},sortedComments:{},value1:0,option1:[{text:"最新",value:0},{text:"有图",value:1},{text:"好评",value:2},{text:"差评",value:3}]}},async created(){this.commentsOverview=await(0,o.my)(this.$route.query.goodsId),this.commentsOverview=this.commentsOverview.data.total,this.comments=await(0,o.b8)(this.$route.query.goodsId,this.commentsOverview.all),this.comments=this.comments.data.list,this.sortedComments=this.comments.sort(((t,e)=>this.parseDate(e)-this.parseDate(t)))},methods:{handleChange(){},parseDate(t){return new Date(t)}}},i=r,c=a(1656),m=(0,c.A)(i,n,s,!1,null,"e5784700",null),u=m.exports},8950:function(t,e,a){a.d(e,{FH:function(){return s},b8:function(){return r},my:function(){return o}});var n=a(5720);function s(t){return n.A.get("/goods/detail",{params:{goodsId:t}})}function o(t){return n.A.get("/comment/total",{params:{goodsId:t}})}function r(t,e){return n.A.get("/comment/listRows",{params:{goodsId:t,limit:e}})}}}]);
//# sourceMappingURL=263.941b8fc3.js.map