"use strict";(self["webpackChunksmart_mall"]=self["webpackChunksmart_mall"]||[]).push([[823],{9918:function(r,e,t){t.d(e,{A:function(){return c}});var s=function(){var r=this,e=r._self._c;return e("van-swipe-cell",{scopedSlots:r._u([{key:"right",fn:function(){return[e("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[e("div",{staticClass:"display"},[e("div",{staticClass:"top"},[r._v("订单号："+r._s(r.order.order_no))]),r._l(r.order.goods,(function(r){return e("van-card",{key:r.goods_id,attrs:{num:r.total_num,price:r.goods_price,title:r.goods_name,thumb:r.goods_image}})})),e("div",{staticClass:"price"},[r._v("总价:"),e("span",[r._v("￥"+r._s(r.order.order_price))])]),e("div",{staticClass:"status"},[r._v("状态："+r._s(r.order.state_text))]),e("div",{staticClass:"date"},[r._v("下单时间:"),e("span",[r._v(r._s(r.order.create_time))])])],2)])},n=[],o={name:"orderDisplay",components:{},props:["order"],created(){},methods:{}},d=o,a=t(1656),i=(0,a.A)(d,s,n,!1,null,"a51d7da8",null),c=i.exports},2823:function(r,e,t){t.r(e),t.d(e,{default:function(){return h}});var s=function(){var r=this,e=r._self._c;return e("div",{staticClass:"orderDetail"},[e("van-nav-bar",{attrs:{title:"订单详情","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return r.$router.go(-1)}}}),e("order-display",{attrs:{order:r.order}}),e("div",{staticClass:"buyerRemark"},[r._v("留言："),e("br"),r._v(r._s(r.buyerRemark))]),e("theAddress",{attrs:{address:r.address}}),e("div",{staticClass:"buttons"},[e("van-button",{attrs:{type:"danger"},on:{click:r.handleClickCancle}},[r._v(r._s(r.dynamicText.text[r.dynamicText.type].a))]),e("van-button",{attrs:{type:"info"},on:{click:r.handleClickConfirm}},[r._v(r._s(r.dynamicText.text[r.dynamicText.type].b))])],1)],1)},n=[],o=t(4180),d=function(){var r=this,e=r._self._c;return e("div",{ref:"address",staticClass:"address"},[e("div",{staticClass:"title"},[r._v("地址")]),e("p",[r._v(r._s(r.address.name)+" "+r._s(r.address.phone))]),e("p",[r._v(r._s(r.address.region.province)+r._s(r.address.region.city)+r._s(r.address.region.region)+r._s(r.address.detail))])])},a=[],i={name:"addressComponet",props:{address:{type:Object,default(){return{address:{name:"",phone:Number,region:{province:"",city:"",region:""},detail:""}}}}},created(){},mounted(){}},c=i,u=t(1656),l=(0,u.A)(c,d,a,!1,null,"5b72d556",null),p=l.exports,_=t(9918),m=t(4341),v={name:"orderDetail",components:{theAddress:p,orderDisplay:_.A},data(){return{orderId:-1,address:{},order:{},buyerRemark:"",dynamicText:{type:0,text:[{a:"取消订单",b:"确认收货"},{a:"取消订单",b:"去付款"}]}}},async created(){if(void 0!==this.$route.query.order_id){this.orderId=this.$route.query.order_id;const{data:r}=await(0,o.K2)(this.orderId);this.order=r.order;const{order:{address:e,buyer_remark:t}}=r;this.address=e,this.buyerRemark=t}},methods:{async handleClickCancle(){const r=await(0,o.lo)(this.orderId);200===r.status&&((0,m.A)(`已取消订单:${this.order.order_no}`),this.$router.replace("/orders"))},async handleClickConfirm(){const r=await(0,o.U9)(this.orderId);200===r.status&&((0,m.A)(`已收货:${this.order.order_no}`),this.$router.replace("/orders"))}}},f=v,y=(0,u.A)(f,s,n,!1,null,"1a83a9d9",null),h=y.exports},4180:function(r,e,t){t.d(e,{K2:function(){return i},U9:function(){return u},c:function(){return n},k6:function(){return a},lV:function(){return o},lo:function(){return c},vQ:function(){return d}});var s=t(5720);function n(r,e,t,n,o,d,a){return s.A.post("/checkout/submit",{delivery:r,couponId:e,isUsePoints:t,mode:n,payType:o,remark:d,cartIds:a})}function o(r,e,t,n,o,d,a,i,c){return s.A.post("/checkout/submit",{delivery:r,couponId:e,isUsePoints:t,mode:n,payType:o,remark:d,goodsId:a,goodsNum:i,goodsSkuId:c})}function d(){return s.A.get("/order/todoCounts")}function a(r,e){return s.A.get("/order/list",{params:{dataType:r,page:e}})}function i(r){return s.A.get("/order/detail",{params:{orderId:r}})}function c(r){return s.A.post("/order/cancel",{orderId:r})}function u(r){return s.A.post("/order/receipt",{orderId:r})}}}]);
//# sourceMappingURL=823.be806558.js.map