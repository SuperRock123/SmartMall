"use strict";(self["webpackChunksmart_mall"]=self["webpackChunksmart_mall"]||[]).push([[217],{7217:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"address"},[e("van-nav-bar",{attrs:{title:"我的地址","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),0===t.list.length?e("van-empty",{attrs:{image:"search",description:"空空如也"}}):t._e(),e("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认"},on:{add:t.onAdd,edit:t.onEdit,select:t.onSelect},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1)},r=[],d=(s(4114),s(3120)),a={name:"addresses-vue",data(){return{show:!0,chosenAddressId:"1",list:[],data:{}}},async created(){const t=await(0,d.TK)(),e=await(0,d.us)();t.data.list.forEach((t=>{const s=t.region.province+t.region.city+t.region.region+t.detail,{address_id:n,name:r,phone:d}=t;t.address_id===e.data.defaultId?this.list.push({address:s,id:n,name:r,tel:d,isDefault:!0}):this.list.push({address:s,id:n,name:r,tel:d,isDefault:!1})}))},methods:{onAdd(){this.$router.push("/addressDetail?address_id=-1")},onEdit(t,e){this.$router.push(`/addressDetail?address_id=${this.list[e].id}`)},async onSelect(t,e){await(0,d._G)(t.id),this.list.forEach((t=>{t.isDefault=!1})),this.list[e].isDefault=!0}}},i=a,u=s(1656),o=(0,u.A)(i,n,r,!1,null,"884f94bc",null),l=o.exports},3120:function(t,e,s){s.d(e,{M6:function(){return c},TK:function(){return r},_G:function(){return u},k$:function(){return i},pM:function(){return d},qg:function(){return l},us:function(){return a},wT:function(){return o}});var n=s(5720);function r(){return n.A.get("/address/list")}function d(){return n.A.get("/region/tree")}function a(){return n.A.get("/address/defaultId")}function i(t,e,s,r){return n.A.post("/address/add",{form:{name:t,phone:e,region:s,detail:r}})}function u(t){return n.A.post("/address/setDefault",{addressId:t})}function o(t){return n.A.get("/address/detail",{params:{addressId:t}})}function l(t,e,s,r,d){return n.A.post("/address/edit",{addressId:t,form:{name:e,phone:s,region:r,detail:d}})}function c(t){return n.A.post("/address/remove",{addressId:t})}}}]);
//# sourceMappingURL=217.7216d969.js.map